language: groovy
jdk:
- openjdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_install:
- openssl aes-256-cbc -K $encrypted_a80da4109121_key -iv $encrypted_a80da4109121_iv
  -in secring.gpg.enc -out .travis/secring.gpg -d
install:
- "./gradlew assemble -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
before_script:
- chmod +x gradlew
script:
- "./gradlew check -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
deploy:
  skip_cleanup: true
  provider: script
  script: bash .travis/deploy.sh
  on:
    tags: true
after_deploy:
- "./gradlew closeAndReleaseRepository -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
- shred -u .travis/secring.gpg
env:
  global:
  - secure: lpva0PX1GTZ9sOw03RoWPxfHvaSTsFiUgbRfljLX8tTTfLs0S8N/ivBjGorzXhlggR7prBEROB/+4pOM+JR/MR6XtHE7earuJHEROtB1mjjWf2+D9jeR0s8LJ4ei2T9Ko7H8xr7qsPLJ3V5vCPiHZWz+Exa3SwEM7w6TUqu9+6NKl1YqgC1mX8FbulX6ukcKeOx+R9oZbN5VAmpNHfTzAyqj0c7/64q4bqQoBuNCGtBE68znfzmCoqVBNV/rJN104kLNJxZATH+FtXQrDhx7WCvpc8EjD7v3YT0YLRYWLtvuf4lmZHlYQhtTYL2N+fHLzSKbzVKDNQTHACwgAJD5Bcj/yUdVgtZH2JZcU8DEk593fbLZ5Pp4JtXGjFYlZ/pAvMv1iwlpDlVEKH+brgCoWMt/BpeH/tb/0Qp1BMTgPiYx3cRP4ukB/Z0HJIeH/IlOBr5PsQgbV6Wf2WuYVETpt9kRyhysO5xifbGlUB0YKKVKth7Ix5eoXEYlqa3HDL386EA7t9qQWxGovxbZXuPnbN7kpGhGzM+1lvVYWty76mZu/0poc5GW0PbWVKH3Ivwqo4bQI/qlmKyoZ7aXUgtLLSifBBRCWf013Msc/gnw3ojRV9SmqzaFeE8aLRnIXJhUW6l8jYVvEsb/6G59DIHpdhibk3hZkgjZnxA4ceLXBPM=
  - secure: XPd3VoZOLxjkDOFo1bzOz7PeUmwpAPZ0ep6DfyQnnTzn9KE3ZMZ3qSI3gqCP+Cti2K74wn7WBVoa/L2ozWPXutBt+ElHiHFnX6o5WcCo6WSv3eK9fKQtV6TP8Ou5i8G0hvNVE966Ny0oarhv8/RoDJTPml5VitWUP9h5jjd2+8PcQVV5c3gjaC78nd/MYgZsX31py6wVu/KpM+WVDGmHTqdNQVtPgQXEFTXoDgjUXFQV2NQt6KmOeRaJpH4y8IRZ+VjiSfvlrJGaJdxdb2JDkC4/er5WUY4GIZog2gc8VvR3wMKxrk7+dLqPKODiaJJptXYZv20k9MozBqmKINdmWvAhFsp4/ltorGDA+GosluOeekB6zMmshiUve/zg4dvo11MS9VpPlwDEglzcuQUkUDd3z/w1nioarU61RAuzL4PD8X6JnT9decJO9rgj7g34mN+cw+OJVkxzLU9+88J5dXwE6ULAqRF9mGnlzzKXiGSu0JcKHc1klJo3TnZEBSUxCeu4UmNvSCsZkQ3jIas4QIOQPihuQYdjKv9jnhepGACN49dePO5u5Svgg3+Rrb5QVpeIqcM6/afofHUT8Z8IGRrXVo0ba5v981wXJFqo05GP3DrQRileCXRL7bfgOQ6LlXLtYvWoVkaBBQ/8qJ13Y+UvNs4aGRWkK6KBIHIiSkw=
  - secure: djBb3FM57APWMStgov01vC2TYyEZHNVKn9yfhESg/uobldtzopOQ5vhPNvkFca9lStnH1tFr7BDDVaD+q/jXSYXUkRoqiXrZWaCRGj59zqxs288F11z1nTh+RqKS8LR7IZ7VG64+9BKqbiEUyd/A0wCyguNygj3ypNUqSuPCSxrLcPwEpoyxQ3aaeX1LgWbF3pPpgfphkyKe2Oq0I8T1J37SMJLngexdd7X0storbn+Pxvo6Tze1OUAtuI3BXX4+SEBZW1VGRbMOPM2aMTCk3vZzUN+eEQ5uQ3XFtjVYtA6F+BbsqdlHDEoYl/pjp+812arBF3m+oEY3PfkIyl8ZFsZo+bzyIYUUM9L74SuRmjpgU/ioRZ7rpPJWXRuFynGwKT7BaHXHDguCHy6soniDbRhJ7wyAzFLTkDqDNCxMpdT4etNIxPHyKKcFGEF0mE6Lo8USsGNyLVqn4Nww60KJhbcDxDVd9uZs5QbmKedDrFL2rQTZhWFDVUyOV49Qa4ZS0g0d1TNndhdOdHKy199T0pygZqV5tH1d+xukyLR2KKdqcbkT7P53SNLsAn0nv0HGH4pYWjU55V9VdBPXktpFeGcQvSslsZjyLZ1bDzMDcD1NlKg4QdbbZGHkMMEYLM2Za7GOOkSBtp2R2yq+LghjBTBpppL2E29azHyYruabLU0=
  - secure: BzirG0TT4XrCmhiLvFbdzjoDh99CivvbrNHM37SysS1i/Skm8q22K9BzIP96d3ayEO+RpidjrksLAZb2DPrvSSr+5Li1eq4KlDZ7pP/rdZsMeBSzw3jAtsHL8vzhnGinDse+eVkPYzB77V/Tg3QbA2OrhGesu9wleciMY+XOQS+RmLIggO4s42Nt7/3aN47DENzQyUNtfrb9fm2Zx5s4ZyFA8MDfrlxr0gBw3PSpDs/3DR6AsVUFAHfhL3WFSIP1k6I/w/waIvkcrtZbwVIynRjc7tnsVjvKibdpc9SnHNqk22kOiSyTEJ0bp3judl2SA7x4t9dRo8L0KTBwps04Ncj9frV77FfNCA3+7dxKUSRuT1a4taKKyV/wIW0tPSEG3fz7+ohuLz7GV00YCAZ9HqdQ3hyn1mXX1jaSSX3c1WeeaYb3m5nGuFBOiAcf9eF+G5joyszH4lOayQMaPfqTMPrtCDuhe7TxYU+5VUBOHI/ABzXQXCYXsnzdl3lcJg8zdnbvN4XnPpzqL5B6AqxqLMuU2Jea46zCD6qWsCHY0sTlVotimnkKGpFeOIjK5P/wnE4I8ONtikN+wdd8CuSKCH+HnssypRzMf3OFeAMxr59Kj9cKvfCxh20HhNZzvMGOxCmNDdNQGoAb1c3SRZmg2iC151ZrdETJnxZSh1E0Df8=
