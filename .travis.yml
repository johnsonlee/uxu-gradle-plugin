language: groovy
jdk:
- openjdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_install:
- openssl aes-256-cbc -K $encrypted_a80da4109121_key -iv $encrypted_a80da4109121_iv -in .travis/secring.gpg.enc -out .travis/secring.gpg -d
install:
- "./gradlew assemble -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
before_script:
- chmod +x gradlew
script:
- "./gradlew check -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
deploy:
  skip_cleanup: true
  provider: script
  script: bash .travis/deploy.sh
  on:
    tags: true
after_deploy:
- "./gradlew closeAndReleaseRepository -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
- shred -u .travis/secring.gpg
env:
  global:
  - secure: A7ZBPcdPLpmolpXqTAbdTBVDTOEAltzhOBAuQctqve7l7kku4UC4CY/ibm8w8d2UKmG3Fmy/iPPKf0MtDRWqTR4z26J5mKtA21anEPhol+FuOX3bitNGTTsMeIMiMMHl6CYzM4brvO9wNhv+y+lpwX7UqEd5XemBTHaU8MeLexv4cOBjI3PAiJ3FaaT+wTw7AdKVk/BrgSPomQx9boNgOKws3EU47e/7qNUAT/dDMf9NIPBVFQNG7sn4+hh6W5XpSfvhvpHLdwgm1Y0SUoeh/7xq3qkEONN0u4E6P80Wtv3mdkoY04LhciNWQ+OWJwgIXc5wB0a6B+2YhfEVSutvV9E997Hdj1hiI6h9/1UJluluyEW/Vukx9XTO4ofHuuTLFpUPvDZedMAC6zMsR7dvmxAbjx8yev669SJOzWAw/UE+OvDj9lXQtaWxxh+CHJX+goe90x39Ap2sxWX77vMKsMfpZxIH0rhJaMtMceXi+2sBztRuLLzOQludTK0Wi8vQ24xDUeiuN3Uzdcs9flbbQm7k0pU7OhyrcSgaA0lK6pfbWvPiz063Dv+YaQ88BCM6r8RnYmtGdJsHiySbApIrfxEcpdxZIYAfl40c9z4/YzmVxZ9LbVA1kQjA7G+swUQ1/9ZqUqPKSM7nx/Y5OTLvRjGyP0RAQMqM/ln6thRonm8=
  - secure: gllJDzRNwSTlv2YQb0cq970jCbiE82xBvSczTd+2tlA2GaLIB6kLndDbiIYSdIwYZdtldjUpa6xGL2dMVDPtPv2esA1cHZVbtBCagqjNb/UHa+bf7mt+E+fSgykchJmkBX9xQ1yp35Pc/UFz3IDFF0H+Is2hcbrFc5QD159F06zYLvgjhxM7efXWkbza0EDyPhRrXpSL4uYbX1zytt6+EG4Z8ZxuzrOYKLFAhhBybA+m4PdtBLGLP7b4KoBUBvT8pZWRE1HqhtaHoHQsOxTcd36Dna/ym+hk1ihSpE5k+nlt9VVfQJEtAqng1+C+PhVe3+I8hXJaqrOC+JNVqocdm43eGFq6WxEILeVYqbL1gPrz+7nq7o+1ecplUiYcj9y3DZZlN0C+M+SMfs5ODruum1TfPB/KjPO9Y35Kn7WRqdEHQCHMhF9PVduRCV9SSVySjXsHI0eudRbEUBLCf/D2h2deQxbaPWI/Orh5zYqWYzsrzQbj4/CxvN733wXaPqFzPOJHrOzIHxUcT7uQLUY33gEury95V+/CpKln0LczbatfHX8DBDG/NT/s1czNm9uh3IP8xrx0tvYmfC/ZLqr6oZuL2mkxasqpzREWtFN5HQUlwl6eMTmnXivWec4gvEuB1r1o70Ao+SXm5xxRGjnXMSfi+KPQNEsAmw1OTqdBwDI=
  - secure: BELd7+nRo06oovX6ybNhgxh9bqablN57Zm8ihu5B1Ru4D5sMJDIuYlsfyjjswJHEwcpBJr6W/MFq3Z8FhxgJqaA1NOn738SLW0GzxkQRixWm3bVAnL52WY0J397dKnoy9NZlDBnyPFCcYuiAEHfN+DfhwfkTAzfMf0m4kJTn5oQY8PTOvIzhcQs+YVWqINj9VZ5LDrw7HALQ1YOwp8hKdFZInEob+D/AdSgfcFRgIZ3oWIx2ajI0WOzRpY4uroQ9FoL48xPE1Wof08TLBz5rfieGy0euxqQkst85yns+PUjmRluAhH/MG4/+J0gNlMuBUrR/XJ6kYY2TfFpDHFuz7SdPVWO1iBSBy5ddzDPQwT+4frMt0nIl0+kfSjkBa+dyn8fPA6CPLGUEQCT8RQG0fQImzQk+ZrbTVHFwAbDjlPXAy6JbJOZ7SwY6mr23moPo67JLozgTAPINGny0xprK+TJTjxje6HZkCs2QCvSLUbZTX/AAiQG4XsmzsBEzf6g+mGr0hF8ydmfDu3vCV8OPRVg6TN6AN3m7joeRTmUpP3vY3N4Vfp2U4Kmb4B49PdmlUVAa2bLGmpN2uBlnqlV0eAnW/Z72bw7zejobmFHDP1W6nunfwkynNjfIi4M0ta46tXItLlLb1bpJtwOIz7J3pTeF876k+SHvuDDTFB8//CA=
  - secure: Sl+FMKwSFqIMzmVqiuNK8MPrsqJCvEaMEuF34M4m+iYSkf9JYoD1EFl3ypU5ffpEK5V/h0CIRafYEXCWrjkq1McisMhCqhGcbuEKTNZcfs36hD9iRIvjB2SUtJF2yIAD2nWa/L6lj+xx1A47eDNN9ufP2uwUGzbrQmL9DXF3XVNZwI1bWggDzsI3+axQ3XpWJxTUDfkZVyVa7ypdJVvUxiXkrDOsb4Xk/PxuecC/Z+S7aCVdo6/sYiZbI1UafuQhTEkehLnbsDnkNBZMoLDTkv4+ClWbCAwJ77L9Cyua1NgvALoKak9ojd8NPEQjmc4d7tSPFSbmzciaKAf0GE3T57STorJaFwAOwgDa/f3eov1yRl+SqJ7t3h/DNgqNZsqS3hHCJTgxuJwZNuQtsbCwXZDeZjWVtVeXGBxfhQF+cRjsbYsYl+Q95tgUYo9hbh5xL3iy/LEGbN/MMtShI+6U6zcW4J7VPPthgTKOKqDId6hyQigWAkIq0kYrFDClg6jGmboR/N3CwXTCRONXPshFxycnqf4N+1n6DhzL3zKy+EuElZtvBPrUT0qX/mcivhFYpeZdd0IhE1CqjPr25DgIFpoSKY1yrlWk22aPI6DWbfObKljmn6skEEpJUmG4xIhzp7wGKWbiu4372qbtThbNC71dHzC7N75US5yr0ySe0mM=
